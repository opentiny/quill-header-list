{"version":3,"file":"dev.js","sources":["../src/utils/functions.ts","../src/utils/id.ts","../src/utils/is.ts","../src/formats/header.ts","../src/index.ts","../src/header.ts","../src/utils/bem.ts","../src/utils/constants.ts"],"sourcesContent":[null,null,null,null,null,null,null,null],"names":["throttleAndDebounce","fn","delay","timeoutId","called","clearTimeout","setTimeout","randomID","Math","random","toString","slice","isFunction","val","isString","Header","Quill","import","HeaderList","quill","static","async","headerListModule","this","getModule","moduleName","toggleDisplay","register","toolName","HeaderWithID","create","value","node","super","id","generateHeaderWithId","scrollContainerListener","handleScroll","bind","editorHeaders","isHidden","bem","b","n","prefix","be","e","bm","m","ns","s","bs","cv","v","is","createBEM","root","options","highlightedItem","lastTopOffset","constructor","resolveOptions","container","hide","buildList","appendChild","on","events","TEXT_CHANGE","updateHeaders","EDITOR_CHANGE","range","selection","getRange","activeToolbarControl","console","warn","document","getElementById","resultTopOffset","scrollContainer","window","documentElement","undefined","inputTopOffset","topOffset","Object","assign","hideClass","headerHeight","onBeforeShow","onBeforeHide","onItemClick","offset","Number","isNaN","currentHeaders","Array","from","querySelectorAll","removedHeaders","map","item","el","filter","header","includes","newHeaders","modifiedHeaders","index","entries","some","text","textContent","push","update","bindScrollListener","addEventListener","removeScrollListener","removeEventListener","scrollTop","offsetParent","body","headers","top","getAbsoluteTop","sort","a","setHighlight","createElement","classList","add","createListItem","level","dataset","show","remove","toolbarModule","control","controls","find","addHeaders","removeHeaders","querySelector","insertBefore","tagName","children","target","contains","selector","tag","join","targetHeader","containerOffsetTop","getBoundingClientRect","scrollY","offsetPosition","offsetTop","scrollTo","listItem","element","NaN"],"mappings":"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"}