{"version":3,"file":"dev.js","sources":["../src/utils/constants.ts","../src/utils/is.ts","../src/formats/header.ts","../src/utils/id.ts","../src/index.ts","../src/utils/bem.ts"],"sourcesContent":[null,null,null,null,null,null],"names":["isFunction","val","isString","Header","Quill","import","HeaderWithID","create","value","node","super","id","Math","random","toString","slice","HeaderList","quill","static","async","headerListModule","this","getModule","moduleName","toggleDisplay","register","toolName","editorHeaders","isHidden","bem","b","n","prefix","be","e","bm","m","ns","s","bs","cv","v","is","createBEM","root","options","resizeObserver","intersectionObserver","highlightedItem","constructor","resolveOptions","container","hide","buildList","appendChild","on","events","TEXT_CHANGE","currentHeaders","Array","from","querySelectorAll","removedHeaders","map","item","el","filter","header","includes","newHeaders","modifiedHeaders","index","entries","some","text","textContent","push","update","EDITOR_CHANGE","range","selection","getRange","activeToolbarControl","ResizeObserver","disconnect","IntersectionObserver","handleIntersection","bind","scrollContainer","rootMargin","calculateIntersectionRootMargin","observe","removeEl","addEl","reduce","acc","document","documentElement","console","warn","marginTop","getBoundingClientRect","height","headerHeight","window","innerHeight","getElementById","undefined","topOffset","Number","isNaN","Object","assign","hideClass","onBeforeShow","onBeforeHide","onItemClick","createElement","classList","add","createListItem","level","dataset","addEventListener","selector","tag","join","targetHeader","querySelector","containerOffsetTop","top","scrollY","offsetPosition","offsetTop","scrollTo","show","remove","toolbarModule","control","controls","find","addHeaders","removeHeaders","unobserve","insertBefore","tagName","children","listItem","setHighlight","headers","entry","isElementInViewport","target","current","boundingClientRect","y","isIntersecting","offsetBottom","Infinity","elOffset","isInViewport","onTop","onBottom","headerId","child","box","boxRect","left","bottom","right","innerWidth","childRect"],"mappings":"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"}